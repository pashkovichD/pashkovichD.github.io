window.addEventListener("load",function(){!async function(){try{var e=await fetch("https://t-pay.iqfit.app/subscribe/list-test",{method:"GET"});if(e.ok)return await e.json();throw new Error("Error! status: "+e.status)}catch(e){console.log(e)}}().then(e=>{let t=[],r=[],a=[],n=(e.forEach(e=>{(!0===e.isDiscount?t:!0===e.isPopular?r:a).push(e)}),[]);r.forEach(r=>{a.forEach(e=>{if(r.name==e.name){var t={};switch(t.name=r.name,t.price=r.price,t.oldPrice=e.price,r.name){case"1 неделя":t.rate="-30%",t.tagline="super",t.id="1-week";break;case"1 месяц":t.rate="-40%",t.tagline="power",t.id="1-month";break;case"3 месяца":t.rate="-50%",t.tagline="fire",t.id="3-month";break;case"навсегда":t.rate="-70%",t.tagline="star",t.id="forever"}n.push(t)}})}),o(n)});const t=document.querySelector(".rates__list"),l=document.querySelector("#rates-item").content,o=e=>{const s=document.createDocumentFragment();e.forEach(e=>{var{name:e,price:t,oldPrice:r,rate:a,tagline:n,id:o}=e,i=l.cloneNode(!0),c=(i.querySelector(".rates__item-period").textContent=e,i.querySelector(".rates__item-price .new > span").textContent=t,i.querySelector(".rates__item-price .old > span").textContent=r,i.querySelector(".rates__item-discount > span").textContent=a,i.querySelector(".rates__item-tagline"));switch(c.classList.add("rates__item-tagline--"+n),n){case"super":c.querySelector(".text").textContent="Чтобы просто начать";break;case"power":c.querySelector(".text").textContent="Привести тело в порядок";break;case"fire":c.querySelector(".text").textContent="Изменить образ жизни";break;case"star":c.querySelector(".text").textContent="Всегда быть в форме"}i.querySelector(".rates__input").value=o,i.querySelector(".rates__input").id="rates-"+o,i.querySelector(".rates__item-label").setAttribute("for","rates-"+o),s.appendChild(i)}),t.appendChild(s)}});