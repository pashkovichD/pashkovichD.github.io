!function($){$.extend($.ui,{timepicker:{version:"0.3.3"}});var PROP_NAME="timepicker",tpuuid=(new Date).getTime();function Timepicker(){this.debug=!0,this._curInst=null,this._disabledInputs=[],this._timepickerShowing=!1,this._inDialog=!1,this._dialogClass="ui-timepicker-dialog",this._mainDivId="ui-timepicker-div",this._inlineClass="ui-timepicker-inline",this._currentClass="ui-timepicker-current",this._dayOverClass="ui-timepicker-days-cell-over",this.regional=[],this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Deselect"},this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",timeWithoutSeparator:!0,periodSeparator:" ",showPeriod:!1,showPeriodLabels:!0,showLeadingZero:!0,showMinutesLeadingZero:!0,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5,manual:[]},rows:4,showHours:!0,showMinutes:!0,optionalMinutes:!1,showCloseButton:!1,showNowButton:!1,showDeselectButton:!1,maxTime:{hour:null,minute:null},minTime:{hour:null,minute:null}},$.extend(this._defaults,this.regional[""]),this.tpDiv=$('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"></div>')}function extendRemove(e,t){for(var i in $.extend(e,t),t)null!=t[i]&&null!=t[i]||(e[i]=t[i]);return e}$.extend(Timepicker.prototype,{markerClassName:"hasTimepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachTimepicker:function(target,settings){var inlineSettings=null,attrName;for(attrName in this._defaults){var attrValue=target.getAttribute("time:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="tp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?(this._connectTimepicker(target,inst),this._setTimeFromField(inst)):inline&&this._inlineTimepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,inline:t,tpDiv:t?$('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"></div>'):this.tpDiv}},_connectTimepicker:function(e,s){var t=$(e);s.append=$([]),s.trigger=$([]),t.hasClass(this.markerClassName)||(this._attachments(t,s),t.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(e,t,i){s.settings[t]=i}).bind("getData.timepicker",function(e,t){return this._get(s,t)}),$.data(e,PROP_NAME,s))},_doKeyDown:function(e){var t=$.timepicker._getInst(e.target),i=!0;if(t._keyEvent=!0,$.timepicker._timepickerShowing)switch(e.keyCode){case 9:$.timepicker._hideTimepicker(),i=!1;break;case 13:return $.timepicker._updateSelectedValue(t),$.timepicker._hideTimepicker(),!1;case 27:$.timepicker._hideTimepicker();break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.timepicker._showTimepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyUp:function(e){e=$.timepicker._getInst(e.target);$.timepicker._setTimeFromField(e),$.timepicker._updateTimepicker(e)},_attachments:function(e,t){var i=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus.timepicker",this._showTimepicker),e.unbind("click.timepicker",this._adjustZIndex),t.trigger&&t.trigger.remove();s=this._get(t,"showOn");"focus"!=s&&"both"!=s||(e.bind("focus.timepicker",this._showTimepicker),e.bind("click.timepicker",this._adjustZIndex)),"button"!=s&&"both"!=s||(null==(s=this._get(t,"button"))&&(s=$('<button class="ui-timepicker-trigger" type="button">...</button>'),e.after(s)),$(s).bind("click.timepicker",function(){return $.timepicker._timepickerShowing&&$.timepicker._lastInput==e[0]?$.timepicker._hideTimepicker():t.input.is(":disabled")||$.timepicker._showTimepicker(e[0]),!1}))},_inlineTimepicker:function(e,s){var t=$(e);t.hasClass(this.markerClassName)||(t.addClass(this.markerClassName).append(s.tpDiv).bind("setData.timepicker",function(e,t,i){s.settings[t]=i}).bind("getData.timepicker",function(e,t){return this._get(s,t)}),$.data(e,PROP_NAME,s),this._setTimeFromField(s),this._updateTimepicker(s),s.tpDiv.show())},_adjustZIndex:function(e){e=e.target||e,$.timepicker._getInst(e).tpDiv.css("zIndex",$.timepicker._getZIndex(e)+1)},_showTimepicker:function(e){var t,i,s,n,r;"input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),$.timepicker._isDisabledTimepicker(e)||$.timepicker._lastInput==e||($.timepicker._hideTimepicker(),t=$.timepicker._getInst(e),$.timepicker._curInst&&$.timepicker._curInst!=t&&$.timepicker._curInst.tpDiv.stop(!0,!0),n=$.timepicker._get(t,"beforeShow"),extendRemove(t.settings,n?n.apply(e,[e,t]):{}),t.lastVal=null,$.timepicker._lastInput=e,$.timepicker._setTimeFromField(t),$.timepicker._inDialog&&(e.value=""),$.timepicker._pos||($.timepicker._pos=$.timepicker._findPos(e),$.timepicker._pos[1]+=e.offsetHeight),i=!1,$(e).parents().each(function(){return!(i|="fixed"==$(this).css("position"))}),r={left:$.timepicker._pos[0],top:$.timepicker._pos[1]},$.timepicker._pos=null,t.tpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.timepicker._updateTimepicker(t),t.inline||"object"!=typeof $.ui.position||(t.tpDiv.position({of:t.input,my:$.timepicker._get(t,"myPosition"),at:$.timepicker._get(t,"atPosition"),collision:"flip"}),r=t.tpDiv.offset(),$.timepicker._pos=[r.top,r.left]),t._hoursClicked=!1,t._minutesClicked=!1,r=$.timepicker._checkOffset(t,r,i),t.tpDiv.css({position:$.timepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),t.inline||(s=$.timepicker._get(t,"showAnim"),n=$.timepicker._get(t,"duration"),r=function(){$.timepicker._timepickerShowing=!0;var e=$.timepicker._getBorders(t.tpDiv);t.tpDiv.find("iframe.ui-timepicker-cover").css({left:-e[0],top:-e[1],width:t.tpDiv.outerWidth(),height:t.tpDiv.outerHeight()})},$.timepicker._adjustZIndex(e),$.effects&&$.effects[s]?t.tpDiv.show(s,$.timepicker._get(t,"showOptions"),n,r):t.tpDiv.show(s?n:null,r),s&&n||r(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.timepicker._curInst=t))},_getZIndex:function(e){for(var t,i=$(e),s=0;i.length&&i[0]!==document;)"absolute"!==(t=i.css("position"))&&"relative"!==t&&"fixed"!==t||(t=parseInt(i.css("zIndex"),10),isNaN(t)||0===t||s<t&&(s=t)),i=i.parent();return s},_refreshTimepicker:function(e){e=this._getInst(e);e&&this._updateTimepicker(e)},_updateTimepicker:function(e){e.tpDiv.empty().append(this._generateHTML(e)),this._rebindDialogEvents(e)},_rebindDialogEvents:function(e){var t=$.timepicker._getBorders(e.tpDiv),i=this;e.tpDiv.find("iframe.ui-timepicker-cover").css({left:-t[0],top:-t[1],width:e.tpDiv.outerWidth(),height:e.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:!1},$.proxy($.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:!0},$.proxy($.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:!1},$.proxy($.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:!0},$.proxy($.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-timepicker-prev")&&$(this).removeClass("ui-timepicker-prev-hover"),-1!=this.className.indexOf("ui-timepicker-next")&&$(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){i._isDisabledTimepicker((e.inline?e.tpDiv.parent():e.input)[0])||($(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-timepicker-prev")&&$(this).addClass("ui-timepicker-prev-hover"),-1!=this.className.indexOf("ui-timepicker-next")&&$(this).addClass("ui-timepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",function(e){$.timepicker.selectNow(e)}).end().find(".ui-timepicker-deselect").bind("click",function(e){$.timepicker.deselectTime(e)}).end().find(".ui-timepicker-close").bind("click",function(e){$.timepicker._hideTimepicker()}).end()},_generateHTML:function(e){for(var t,i,s,n=1==this._get(e,"showPeriod"),r=1==this._get(e,"showPeriodLabels"),a=1==this._get(e,"showLeadingZero"),u=1==this._get(e,"showHours"),o=1==this._get(e,"showMinutes"),c=this._get(e,"amPmText"),p=this._get(e,"rows"),l=0,d=0,h=0,m=0,_=0,g=0,k=Array(),f=this._get(e,"hours"),$=null,v=0,b=this._get(e,"hourText"),T=this._get(e,"showCloseButton"),w=this._get(e,"closeButtonText"),C=this._get(e,"showNowButton"),D=this._get(e,"nowButtonText"),I=this._get(e,"showDeselectButton"),x=this._get(e,"deselectButtonText"),M=T||C||I,y=f.starts;y<=f.ends;y++)k.push(y);if($=Math.ceil(k.length/p),r){for(v=0;v<k.length;v++)k[v]<12?h++:m++;v=0,p!=(l=Math.floor(h/k.length*p))+(d=Math.floor(m/k.length*p))&&(h&&(!m||!l||d&&m/d<=h/l)?l++:d++),_=Math.min(l,1),g=l+1,$=0==l?Math.ceil(m/d):0==d?Math.ceil(h/l):Math.ceil(Math.max(h/l,m/d))}if(s='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr>',u){for(s+='<td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+b+'</div><table class="ui-timepicker">',t=1;t<=p;t++){for(s+="<tr>",t==_&&r&&(s+='<th rowspan="'+l.toString()+'" class="periods" scope="row">'+c[0]+"</th>"),t==g&&r&&(s+='<th rowspan="'+d.toString()+'" class="periods" scope="row">'+c[1]+"</th>"),i=1;i<=$;i++)r&&t<g&&12<=k[v]?s+=this._generateHTMLHourCell(e,void 0,n,a):(s+=this._generateHTMLHourCell(e,k[v],n,a),v++);s+="</tr>"}s+="</table></td>"}return o&&(s+='<td class="ui-timepicker-minutes">',s+=this._generateHTMLMinutes(e),s+="</td>"),s+="</tr>",M&&(M='<tr><td colspan="2"><div class="ui-timepicker-buttonpane ui-widget-content">',C&&(M+='<button type="button" class="ui-timepicker-now ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" >'+D+"</button>"),I&&(M+='<button type="button" class="ui-timepicker-deselect ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" >'+x+"</button>"),T&&(M+='<button type="button" class="ui-timepicker-close ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" >'+w+"</button>"),s+=M+"</div></td></tr>"),s+="</table>"},_updateMinuteDisplay:function(e){var t=this._generateHTMLMinutes(e);e.tpDiv.find("td.ui-timepicker-minutes").html(t),this._rebindDialogEvents(e)},_generateHTMLMinutes:function(e){var t,s,n="",r=this._get(e,"rows"),a=Array(),u=this._get(e,"minutes"),o=0,c=1==this._get(e,"showMinutesLeadingZero"),p=this._get(e,"onMinuteShow"),l=this._get(e,"minuteText");for(u.starts||(u.starts=0),u.ends||(u.ends=59),u.manual||(u.manual=[]),h=u.starts;h<=u.ends;h+=u.interval)a.push(h);for(i=0;i<u.manual.length;i++){var d=u.manual[i];"number"!=typeof d||d<0||59<d||0<=$.inArray(d,a)||a.push(d)}if(a.sort(function(e,t){return e-t}),s=Math.round(a.length/r+.49),p&&0==p.apply(e.input?e.input[0]:null,[e.hours,e.minutes]))for(o=0;o<a.length;o+=1)if(h=a[o],p.apply(e.input?e.input[0]:null,[e.hours,h])){e.minutes=h;break}for(n+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+l+'</div><table class="ui-timepicker">',o=0,t=1;t<=r;t++){for(n+="<tr>";o<t*s;){var h,m="";void 0!==(h=a[o])&&(m=h<10&&c?"0"+h.toString():h.toString()),n+=this._generateHTMLMinuteCell(e,h,m),o++}n+="</tr>"}return n+="</table>"},_generateHTMLHourCell:function(e,t,i,s){var n=12<t&&i?t-12:t;(n=0==n&&i?12:n)<10&&s&&(n="0"+n);var r=!0,a=this._get(e,"onHourShow"),i=this._get(e,"maxTime"),s=this._get(e,"minTime");return null==t?'<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>':((r=a?a.apply(e.input?e.input[0]:null,[t]):r)&&(!isNaN(parseInt(i.hour))&&t>i.hour&&(r=!1),!isNaN(parseInt(s.hour))&&t<s.hour&&(r=!1)),r?'<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" data-hour="'+t.toString()+'"><a class="ui-state-default '+(t==e.hours?"ui-state-active":"")+'">'+n.toString()+"</a></td>":'<td><span class="ui-state-default ui-state-disabled '+(t==e.hours?" ui-state-active ":" ")+'">'+n.toString()+"</span></td>")},_generateHTMLMinuteCell:function(e,t,i){var s=!0,n=e.hours,r=this._get(e,"onMinuteShow"),a=this._get(e,"maxTime"),u=this._get(e,"minTime");return r&&(s=r.apply(e.input?e.input[0]:null,[e.hours,t])),null==t?'<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>':(s&&null!==n&&(!isNaN(parseInt(a.hour))&&!isNaN(parseInt(a.minute))&&n>=a.hour&&t>a.minute&&(s=!1),!isNaN(parseInt(u.hour))&&!isNaN(parseInt(u.minute))&&n<=u.hour&&t<u.minute&&(s=!1)),s?'<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+e.id.replace(/\\\\/g,"\\")+'" data-minute="'+t.toString()+'" ><a class="ui-state-default '+(t==e.minutes?"ui-state-active":"")+'" >'+i+"</a></td>":'<td><span class="ui-state-default ui-state-disabled" >'+i+"</span></td>")},_destroyTimepicker:function(e){var t,i=$(e),s=$.data(e,PROP_NAME);i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),$.removeData(e,PROP_NAME),"input"==t?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)):"div"!=t&&"span"!=t||i.removeClass(this.markerClassName).empty())},_enableTimepicker:function(e){var t,i=$(e),s=i.attr("id"),n=$.data(e,PROP_NAME);i.hasClass(this.markerClassName)&&("input"==(t=e.nodeName.toLowerCase())?(e.disabled=!1,e=this._get(n,"button"),$(e).removeClass("ui-state-disabled").disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end()):"div"!=t&&"span"!=t||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("button").each(function(){this.disabled=!1})),this._disabledInputs=$.map(this._disabledInputs,function(e){return e==s?null:e}))},_disableTimepicker:function(t){var e,i,s=$(t),n=$.data(t,PROP_NAME);s.hasClass(this.markerClassName)&&("input"==(i=t.nodeName.toLowerCase())?(e=this._get(n,"button"),$(e).addClass("ui-state-disabled").disabled=!0,t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end()):"div"!=i&&"span"!=i||((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("button").each(function(){this.disabled=!0})),this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=s.attr("id"))},_isDisabledTimepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_checkOffset:function(e,t,i){var s=e.tpDiv.outerWidth(),n=e.tpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+$(document).scrollLeft(),o=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?s-r:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+a?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>u&&s<u?Math.abs(t.left+s-u):0),t.top-=Math.min(t.top,t.top+n>o&&n<o?Math.abs(n+a):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType);)e=e[i?"previousSibling":"nextSibling"];t=$(e).offset();return[t.left,t.top]},_getBorders:function(e){function t(e){return{thin:1,medium:2,thick:3}[e]||e}return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkExternalClick:function(e){$.timepicker._curInst&&((e=$(e.target))[0].id==$.timepicker._mainDivId||0!=e.parents("#"+$.timepicker._mainDivId).length||e.hasClass($.timepicker.markerClassName)||e.hasClass($.timepicker._triggerClass)||!$.timepicker._timepickerShowing||$.timepicker._inDialog&&$.blockUI||$.timepicker._hideTimepicker())},_hideTimepicker:function(e){var t,i,s=this._curInst;!s||e&&s!=$.data(e,PROP_NAME)||this._timepickerShowing&&(t=this._get(s,"showAnim"),i=this._get(s,"duration"),e=function(){$.timepicker._tidyDialog(s),this._curInst=null},$.effects&&$.effects[t]?s.tpDiv.hide(t,$.timepicker._get(s,"showOptions"),i,e):s.tpDiv["slideDown"==t?"slideUp":"fadeIn"==t?"fadeOut":"hide"](t?i:null,e),t||e(),this._timepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.tpDiv))),this._inDialog=!1,(e=this._get(s,"onClose"))&&e.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]))},_tidyDialog:function(e){e.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this timepicker"}},_get:function(e,t){return(void 0!==e.settings[t]?e.settings:this._defaults)[t]},_setTimeFromField:function(e){var t;e.input.val()!=e.lastVal&&(t="now"==(t=this._get(e,"defaultTime"))?this._getCurrentTimeRounded(e):t,(t=0==e.inline&&""!=e.input.val()?e.input.val():t)instanceof Date?(e.hours=t.getHours(),e.minutes=t.getMinutes()):""==(t=e.lastVal=t)?(e.hours=-1,e.minutes=-1):(t=this.parseTime(e,t),e.hours=t.hours,e.minutes=t.minutes),$.timepicker._updateTimepicker(e))},_optionTimepicker:function(e,t,i){var s=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.timepicker._defaults):s?"all"==t?$.extend({},s.settings):this._get(s,t):null;var n=t||{};"string"==typeof t&&((n={})[t]=i),s&&(extendRemove(s.settings,n),this._curInst==s&&(this._hideTimepicker(),this._updateTimepicker(s)),s.inline&&this._updateTimepicker(s))},_setTimeTimepicker:function(e,t){e=this._getInst(e);e&&(this._setTime(e,t),this._updateTimepicker(e),this._updateAlternate(e,t))},_setTime:function(e,t,i){var s=e.hours,n=e.minutes;t instanceof Date?(e.hours=t.getHours(),e.minutes=t.getMinutes()):(t=this.parseTime(e,t),e.hours=t.hours,e.minutes=t.minutes),s==e.hours&&n==e.minutes||i||e.input.trigger("change"),this._updateTimepicker(e),this._updateSelectedValue(e)},_getCurrentTimeRounded:function(e){var t=new Date,i=t.getMinutes(),e=this._get(e,"minutes"),e=Math.round(i/e.interval)*e.interval;return t.setMinutes(e),t},parseTime:function(e,t){var i=new Object;if(i.hours=-1,i.minutes=-1,!t)return i;var s=this._get(e,"timeSeparator"),n=this._get(e,"timeWithoutSeparator"),r=this._get(e,"amPmText"),a=this._get(e,"showHours"),u=this._get(e,"showMinutes"),o=this._get(e,"optionalMinutes"),e=1==this._get(e,"showPeriod"),s=t.indexOf(s);return-1!=s?(i.hours=parseInt(t.substr(0,s),10),i.minutes=parseInt(t.substr(s+1),10)):!a||u&&!o?!a&&u?i.minutes=parseInt(t,10):n&&4<=t.length&&(i.hours=parseInt(t.substr(0,2),10),i.minutes=parseInt(t.substr(2,3),10)):i.hours=parseInt(t,10),a&&(t=t.toUpperCase(),i.hours<12&&e&&-1!=t.indexOf(r[1].toUpperCase())&&(i.hours+=12),12==i.hours&&e&&-1!=t.indexOf(r[0].toUpperCase())&&(i.hours=0)),i},selectNow:function(e){var t=$(e.target).attr("data-timepicker-instance-id"),e=$(t),t=this._getInst(e[0]),e=new Date;t.hours=e.getHours(),t.minutes=e.getMinutes(),this._updateSelectedValue(t),this._updateTimepicker(t),this._hideTimepicker()},deselectTime:function(e){e=$(e.target).attr("data-timepicker-instance-id"),e=$(e),e=this._getInst(e[0]);e.hours=-1,e.minutes=-1,this._updateSelectedValue(e),this._hideTimepicker()},selectHours:function(e){var t=$(e.currentTarget),i=t.attr("data-timepicker-instance-id"),s=parseInt(t.attr("data-hour")),n=e.data.fromDoubleClick,r=$(i),e=this._getInst(r[0]),i=1==this._get(e,"showMinutes");if($.timepicker._isDisabledTimepicker(r.attr("id")))return!1;t.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active"),t.children("a").addClass("ui-state-active"),e.hours=s;r=this._get(e,"onMinuteShow"),t=this._get(e,"maxTime"),s=this._get(e,"minTime");return!r&&isNaN(parseInt(t.minute))&&isNaN(parseInt(s.minute))||this._updateMinuteDisplay(e),this._updateSelectedValue(e),e._hoursClicked=!0,(e._minutesClicked||n||0==i)&&$.timepicker._hideTimepicker(),!1},selectMinutes:function(e){var t=$(e.currentTarget),i=t.attr("data-timepicker-instance-id"),s=parseInt(t.attr("data-minute")),n=e.data.fromDoubleClick,r=$(i),e=this._getInst(r[0]),i=1==this._get(e,"showHours");return $.timepicker._isDisabledTimepicker(r.attr("id"))||(t.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active"),t.children("a").addClass("ui-state-active"),e.minutes=s,this._updateSelectedValue(e),e._minutesClicked=!0,(e._hoursClicked||n||0==i)&&$.timepicker._hideTimepicker()),!1},_updateSelectedValue:function(e){var t=this._getParsedTime(e);e.input&&(e.input.val(t),e.input.trigger("change"));var i=this._get(e,"onSelect");return i&&i.apply(e.input?e.input[0]:null,[t,e]),this._updateAlternate(e,t),t},_getParsedTime:function(e){if(-1==e.hours&&-1==e.minutes)return"";(e.hours<e.hours.starts||e.hours>e.hours.ends)&&(e.hours=0),(e.minutes<e.minutes.starts||e.minutes>e.minutes.ends)&&(e.minutes=0);var t="",i=1==this._get(e,"showPeriod"),s=1==this._get(e,"showLeadingZero"),n=1==this._get(e,"showHours"),r=1==this._get(e,"showMinutes"),a=1==this._get(e,"optionalMinutes"),u=this._get(e,"amPmText"),o=e.hours||0,c=e.minutes||0,p=o||0,o="";-1==p&&(p=0),-1==c&&(c=0),i&&(0==e.hours&&(p=12),e.hours<12?t=u[0]:(t=u[1],12<p&&(p-=12)));u=p.toString();s&&p<10&&(u="0"+u);p=c.toString();return c<10&&(p="0"+p),n&&(o+=u),!n||!r||a&&0==p||(o+=this._get(e,"timeSeparator")),!r||a&&0==p||(o+=p),n&&0<t.length&&(o+=this._get(e,"periodSeparator")+t),o},_updateAlternate:function(e,i){e=this._get(e,"altField");e&&$(e).each(function(e,t){$(t).val(i)})},_getTimeAsDateTimepicker:function(e){e=this._getInst(e);return-1==e.hours&&-1==e.minutes?"":((e.hours<e.hours.starts||e.hours>e.hours.ends)&&(e.hours=0),(e.minutes<e.minutes.starts||e.minutes>e.minutes.ends)&&(e.minutes=0),new Date(0,0,0,e.hours,e.minutes,0))},_getTimeTimepicker:function(e){e=this._getInst(e);return this._getParsedTime(e)},_getHourTimepicker:function(e){e=this._getInst(e);return null==e?-1:e.hours},_getMinuteTimepicker:function(e){e=this._getInst(e);return null==e?-1:e.minutes}}),$.fn.timepicker=function(e){$.timepicker.initialized||($(document).mousedown($.timepicker._checkExternalClick),$.timepicker.initialized=!0),0===$("#"+$.timepicker._mainDivId).length&&$("body").append($.timepicker.tpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("getTime"==e||"getTimeAsDate"==e||"getHour"==e||"getMinute"==e)||"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.timepicker["_"+e+"Timepicker"].apply($.timepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.timepicker["_"+e+"Timepicker"].apply($.timepicker,[this].concat(t)):$.timepicker._attachTimepicker(this,e)})},$.timepicker=new Timepicker,$.timepicker.initialized=!1,$.timepicker.uuid=(new Date).getTime(),$.timepicker.version="0.3.3",window["TP_jQuery_"+tpuuid]=$}(jQuery);