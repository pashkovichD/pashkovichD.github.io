!function(u){var l=u.ajax,a=[],i=[],r=/=\?(&|$)/,c=(new Date).getTime();function n(e,t,s){(e.context?u(e.context):u.event).trigger(t,s)}function p(e,t){return e[t]===u.mockjaxSettings[t]}function d(e,t){if(u.isFunction(e))return e(t);if(u.isFunction(e.url.test)){if(!e.url.test(t.url))return null}else{var s=e.url.indexOf("*");if(e.url!==t.url&&-1===s||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(t.url))return null}return e.data&&t.data&&!function t(s,n){var o=!0;return"string"==typeof n?u.isFunction(s.test)?s.test(n):s==n:(u.each(s,function(e){return void 0===n[e]?o=!1:void(o="object"==typeof n[e]&&null!==n[e]?o&&t(s[e],n[e]):s[e]&&u.isFunction(s[e].test)?o&&s[e].test(n[e]):o&&s[e]==n[e])}),o)}(e.data,t.data)||e&&e.type&&e.type.toLowerCase()!=t.type.toLowerCase()?null:e}function f(t,s,n){var e,o=(e=this,function(){return function(){var e;this.status=t.status,this.statusText=t.statusText,this.readyState=4,u.isFunction(t.response)&&t.response(n),"json"==s.dataType&&"object"==typeof t.responseText?this.responseText=JSON.stringify(t.responseText):"xml"==s.dataType?"string"==typeof t.responseXML?(this.responseXML=function(e){null==window.DOMParser&&window.ActiveXObject&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var t=(new DOMParser).parseFromString(e,"text/xml");if(!u.isXMLDoc(t))throw"Unable to parse XML";if(1==u("parsererror",t).length)throw"Error: "+u(t).text();return t}catch(e){var s=null==e.name?e:e.name+": "+e.message;return void u(document).trigger("xmlParseError",[s])}}(t.responseXML),this.responseText=t.responseXML):this.responseXML=t.responseXML:this.responseText=t.responseText,"number"!=typeof t.status&&"string"!=typeof t.status||(this.status=t.status),"string"==typeof t.statusText&&(this.statusText=t.statusText),e=this.onreadystatechange||this.onload,u.isFunction(e)?(t.isTimeout&&(this.status=-1),e.call(this,t.isTimeout?"timeout":void 0)):t.isTimeout&&(this.status=-1)}.apply(e)});t.proxy?l({global:!1,url:t.proxy,type:t.proxyType,data:t.data,dataType:"script"===s.dataType?"text/plain":s.dataType,complete:function(e){t.responseXML=e.responseXML,t.responseText=e.responseText,p(t,"status")&&(t.status=e.status),p(t,"statusText")&&(t.statusText=e.statusText),this.responseTimer=setTimeout(o,t.responseTime||0)}}):!1===s.async?o():this.responseTimer=setTimeout(o,t.responseTime||50)}function x(e,t,s){if("GET"===(n=e).type.toUpperCase()?r.test(n.url)||(n.url+=(/\?/.test(n.url)?"&":"?")+(n.jsonp||"callback")+"=?"):n.data&&r.test(n.data)||(n.data=(n.data?n.data+"&":"")+(n.jsonp||"callback")+"=?"),e.dataType="json",e.data&&r.test(e.data)||r.test(e.url)){!function(t,s,e){var n=e&&e.context||t,o=t.jsonpCallback||"jsonp"+c++;t.data&&(t.data=(t.data+"").replace(r,"="+o+"$1"));t.url=t.url.replace(r,"="+o+"$1"),window[o]=window[o]||function(e){data=e,g(t,n,s),h(t,n),window[o]=void 0;try{delete window[o]}catch(e){}head&&head.removeChild(script)}}(e,t,s);var n=/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url),n=n&&(n[1]&&n[1]!==location.protocol||n[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&n){s=function(e,t,s){var n=s&&s.context||e,o=null;t.response&&u.isFunction(t.response)?t.response(s):"object"==typeof t.responseText?u.globalEval("("+JSON.stringify(t.responseText)+")"):u.globalEval("("+t.responseText+")");g(e,n,t),h(e,n),u.Deferred&&(o=new u.Deferred,"object"==typeof t.responseText?o.resolveWith(n,[t.responseText]):o.resolveWith(n,[u.parseJSON(t.responseText)]));return o}(e,t,s);return s||!0}}return null}function g(e,t,s){e.success&&e.success.call(t,s.responseText||"",status,{}),e.global&&n(e,"ajaxSuccess",[{},e])}function h(e,t){e.complete&&e.complete.call(t,{},status),e.global&&n("ajaxComplete",[{},e]),e.global&&!--u.active&&u.event.trigger("ajaxStop")}u.extend({ajax:function(e,t){var s,n;"object"==typeof e?(t=e,e=void 0):t.url=e;for(var o=u.extend(!0,{},u.ajaxSettings,t),r=0;r<a.length;r++)if(a[r]&&(n=d(a[r],o)))return i.push(o),u.mockjaxSettings.log(n,o),"jsonp"===o.dataType&&(s=x(o,n,t))||(n.cache=o.cache,n.timeout=o.timeout,n.global=o.global,function(e,t){if(!(e.url instanceof RegExp))return;if(!e.hasOwnProperty("urlParams"))return;var s=e.url.exec(t.url);if(1===s.length)return;s.shift();var n=0,o=s.length,r=e.urlParams.length,a=Math.min(o,r),i={};for(;n<a;n++){var u=e.urlParams[n];i[u]=s[n]}t.urlParams=i}(n,t),function(o,r,a,i){s=l.call(u,u.extend(!0,{},a,{xhr:function(){return n=o,e=r,t=a,s=i,void 0===(n=u.extend(!0,{},u.mockjaxSettings,n)).headers&&(n.headers={}),n.contentType&&(n.headers["content-type"]=n.contentType),{status:n.status,statusText:n.statusText,readyState:1,open:function(){},send:function(){s.fired=!0,f.call(this,n,e,t)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,t){n.headers[e]=t},getResponseHeader:function(e){return n.headers&&n.headers[e]?n.headers[e]:"last-modified"==e.toLowerCase()?n.lastModified||(new Date).toString():"etag"==e.toLowerCase()?n.etag||"":"content-type"==e.toLowerCase()?n.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var s="";return u.each(n.headers,function(e,t){s+=e+": "+t+"\n"}),s}};var n,e,t,s}}))}(n,o,t,a[r])),s;if(!0===u.mockjaxSettings.throwUnmocked)throw"AJAX not mocked: "+t.url;return l.apply(u,[t])}}),u.mockjaxSettings={log:function(e,t){if(!1!==e.logging&&(void 0!==e.logging||!1!==u.mockjaxSettings.logging)&&window.console&&console.log){var s="MOCK "+t.type.toUpperCase()+": "+t.url,n=u.extend({},t);if("function"==typeof console.log)console.log(s,n);else try{console.log(s+" "+JSON.stringify(n))}catch(e){console.log(s)}}},logging:!0,status:200,statusText:"OK",responseTime:500,isTimeout:!1,throwUnmocked:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},u.mockjax=function(e){var t=a.length;return a[t]=e,t},u.mockjaxClear=function(e){1==arguments.length?a[e]=null:a=[],i=[]},u.mockjax.handler=function(e){if(1==arguments.length)return a[e]},u.mockjax.mockedAjaxCalls=function(){return i}}(jQuery);