!function(M){"use strict";var h={};function r(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),M(this).ajaxSubmit(t))}function a(e){var t=e.target,r=M(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n=this;"image"==(n.clk=t).type&&(void 0!==e.offsetX?(n.clk_x=e.offsetX,n.clk_y=e.offsetY):"function"==typeof M.fn.offset?(r=r.offset(),n.clk_x=e.pageX-r.left,n.clk_y=e.pageY-r.top):(n.clk_x=e.pageX-t.offsetLeft,n.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}function O(){var e;M.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}h.fileapi=void 0!==M("<input type='file'/>").get(0).files,h.formdata=void 0!==window.FormData,M.fn.ajaxSubmit=function(A){if(!this.length)return O("ajaxSubmit: skipping submit process - no element selected"),this;var E,L=this;"function"==typeof A&&(A={success:A}),E=this.attr("method"),a=(a=(a="string"==typeof(t=this.attr("action"))?M.trim(t):"")||window.location.href||"")&&(a.match(/^([^#]+)/)||[])[1],A=M.extend(!0,{url:a,success:M.ajaxSettings.success,type:E||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},A);var e={};if(this.trigger("form-pre-serialize",[this,A,e]),e.veto)return O("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(A.beforeSerialize&&!1===A.beforeSerialize(this,A))return O("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var t=A.traditional;void 0===t&&(t=M.ajaxSettings.traditional);var F=[],r=this.formToArray(A.semantic,F);if(A.data&&(A.extraData=A.data,o=M.param(A.data,t)),A.beforeSubmit&&!1===A.beforeSubmit(r,this,A))return O("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[r,this,A,e]),e.veto)return O("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var a=M.param(r,t);o&&(a=a?a+"&"+o:o),"GET"==A.type.toUpperCase()?(A.url+=(0<=A.url.indexOf("?")?"&":"?")+a,A.data=null):A.data=a;var n,i=[];A.resetForm&&i.push(function(){L.resetForm()}),A.clearForm&&i.push(function(){L.clearForm(A.includeHidden)}),!A.dataType&&A.target?(n=A.success||function(){},i.push(function(e){var t=A.replaceTarget?"replaceWith":"html";M(A.target)[t](e).each(n,arguments)})):A.success&&i.push(A.success),A.success=function(e,t,r){for(var a=A.context||this,n=0,o=i.length;n<o;n++)i[n].apply(a,[e,t,r||L,L])};var e=0<M('input[type=file]:enabled[value!=""]',this).length,t="multipart/form-data",o=L.attr("enctype")==t||L.attr("encoding")==t,a=h.fileapi&&h.formdata;O("fileAPI :"+a);var s,t=(e||o)&&!a;!1!==A.iframe&&(A.iframe||t)?A.closeKeepAlive?M.get(A.closeKeepAlive,function(){s=l(r)}):s=l(r):s=(e||o)&&a?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(A.extraData){var a,n=function(e){var t,r,a=M.param(e).split("&"),n=a.length,o={};for(t=0;t<n;t++)r=a[t].split("="),o[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return o}(A.extraData);for(a in n)n.hasOwnProperty(a)&&r.append(a,n[a])}A.data=null;var o=M.extend(!0,{},M.ajaxSettings,A,{contentType:!1,processData:!1,cache:!1,type:E||"POST"});A.uploadProgress&&(o.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),A.uploadProgress(e,r,a,t)}),e});o.data=null;var i=o.beforeSend;return o.beforeSend=function(e,t){t.data=r,i&&i.call(this,e,t)},M.ajax(o)}(r):M.ajax(A),L.removeData("jqxhr").data("jqxhr",s);for(var u=0;u<F.length;u++)F[u]=null;return this.trigger("form-submit-notify",[this,A]),this;function l(e){var t,r,i,s,n,u,l,c,f,m,o=L[0],a=!!M.fn.prop,d=M.Deferred();if(M("[name=submit],[id=submit]",o).length)return alert('Error: Form elements must not have name or id of "submit".'),d.reject(),d;if(e)for(r=0;r<F.length;r++)t=M(F[r]),a?t.prop("disabled",!1):t.removeAttr("disabled");if((i=M.extend(!0,{},M.ajaxSettings,A)).context=i.context||i,n="jqFormIO"+(new Date).getTime(),i.iframeTarget?(g=(u=M(i.iframeTarget)).attr("name"))?n=g:u.attr("name",n):(u=M('<iframe name="'+n+'" src="'+i.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),l=u[0],c={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";if(O("aborting upload... "+t),this.aborted=1,l.contentWindow.document.execCommand)try{l.contentWindow.document.execCommand("Stop")}catch(e){}u.attr("src",i.iframeSrc),c.error=t,i.error&&i.error.call(i.context,c,t,e),s&&M.event.trigger("ajaxError",[c,i,t]),i.complete&&i.complete.call(i.context,c,t)}},(s=i.global)&&0==M.active++&&M.event.trigger("ajaxStart"),s&&M.event.trigger("ajaxSend",[c,i]),i.beforeSend&&!1===i.beforeSend.call(i.context,c,i))return i.global&&M.active--,d.reject(),d;if(c.aborted)return d.reject(),d;(e=o.clk)&&(g=e.name)&&!e.disabled&&(i.extraData=i.extraData||{},i.extraData[g]=e.value,"image"==e.type&&(i.extraData[g+".x"]=o.clk_x,i.extraData[g+".y"]=o.clk_y));var p=1,h=2;function v(e){return e.contentWindow?e.contentWindow.document:e.contentDocument||e.document}var e=M("meta[name=csrf-token]").attr("content"),g=M("meta[name=csrf-param]").attr("content");function x(){var e=L.attr("target"),t=L.attr("action");o.setAttribute("target",n),E||o.setAttribute("method","POST"),t!=i.url&&o.setAttribute("action",i.url),i.skipEncodingOverride||E&&!/post/i.test(E)||L.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),i.timeout&&(m=setTimeout(function(){f=!0,w(p)},i.timeout));var r=[];try{if(i.extraData)for(var a in i.extraData)i.extraData.hasOwnProperty(a)&&(M.isPlainObject(i.extraData[a])&&i.extraData[a].hasOwnProperty("name")&&i.extraData[a].hasOwnProperty("value")?r.push(M('<input type="hidden" name="'+i.extraData[a].name+'">').attr("value",i.extraData[a].value).appendTo(o)[0]):r.push(M('<input type="hidden" name="'+a+'">').attr("value",i.extraData[a]).appendTo(o)[0]));i.iframeTarget||(u.appendTo("body"),l.attachEvent?l.attachEvent("onload",w):l.addEventListener("load",w,!1)),setTimeout(function e(){try{var t=v(l).readyState;O("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){O("Server abort: ",e," (",e.name,")"),w(h),m&&clearTimeout(m),m=void 0}},15),o.submit()}finally{o.setAttribute("action",t),e?o.setAttribute("target",e):L.removeAttr("target"),M(r).remove()}}g&&e&&(i.extraData=i.extraData||{},i.extraData[g]=e),i.forceSync?x():setTimeout(x,10);var b,y,T,j=50;function w(t){if(!c.aborted&&!T){try{y=v(l)}catch(e){O("cannot access response document: ",e),t=h}if(t===p&&c)return c.abort("timeout"),void d.reject(c,"timeout");if(t==h&&c)return c.abort("server abort"),void d.reject(c,"error","server abort");if(y&&y.location.href!=i.iframeSrc||f){l.detachEvent?l.detachEvent("onload",w):l.removeEventListener("load",w,!1);var e,r="success";try{if(f)throw"timeout";var a="xml"==i.dataType||y.XMLDocument||M.isXMLDoc(y);if(O("isXml="+a),!a&&window.opera&&(null===y.body||!y.body.innerHTML)&&--j)return O("requeing onLoad callback, DOM not available"),void setTimeout(w,250);var n=y.body||y.documentElement;c.responseText=n?n.innerHTML:null,c.responseXML=y.XMLDocument||y,a&&(i.dataType="xml"),c.getResponseHeader=function(e){return{"content-type":i.dataType}[e]},n&&(c.status=Number(n.getAttribute("status"))||c.status,c.statusText=n.getAttribute("statusText")||c.statusText);var o=(i.dataType||"").toLowerCase(),a=/(json|script|text)/.test(o);a||i.textarea?(n=y.getElementsByTagName("textarea")[0])?(c.responseText=n.value,c.status=Number(n.getAttribute("status"))||c.status,c.statusText=n.getAttribute("statusText")||c.statusText):a&&(n=y.getElementsByTagName("pre")[0],a=y.getElementsByTagName("body")[0],n?c.responseText=n.textContent||n.innerText:a&&(c.responseText=a.textContent||a.innerText)):"xml"==o&&!c.responseXML&&c.responseText&&(c.responseXML=S(c.responseText));try{b=D(c,o,i)}catch(t){r="parsererror",c.error=e=t||r}}catch(t){O("error caught: ",t),r="error",c.error=e=t||r}c.aborted&&(O("upload aborted"),r=null),"success"===(r=c.status?200<=c.status&&c.status<300||304===c.status?"success":"error":r)?(i.success&&i.success.call(i.context,b,"success",c),d.resolve(c.responseText,"success",c),s&&M.event.trigger("ajaxSuccess",[c,i])):r&&(void 0===e&&(e=c.statusText),i.error&&i.error.call(i.context,c,r,e),d.reject(c,"error",e),s&&M.event.trigger("ajaxError",[c,i,e])),s&&M.event.trigger("ajaxComplete",[c,i]),s&&!--M.active&&M.event.trigger("ajaxStop"),i.complete&&i.complete.call(i.context,c,r),T=!0,i.timeout&&clearTimeout(m),setTimeout(function(){i.iframeTarget||u.remove(),c.responseXML=null},100)}}}var S=M.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},k=M.parseJSON||function(e){return window.eval("("+e+")")},D=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n="xml"===t||!t&&0<=a.indexOf("xml"),e=n?e.responseXML:e.responseText;return n&&"parsererror"===e.documentElement.nodeName&&M.error&&M.error("parsererror"),"string"==typeof(e=r&&r.dataFilter?r.dataFilter(e,t):e)&&("json"===t||!t&&0<=a.indexOf("json")?e=k(e):("script"===t||!t&&0<=a.indexOf("javascript"))&&M.globalEval(e)),e};return d}},M.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&M.isFunction(M.fn.on),e.delegation||0!==this.length)return e.delegation?(M(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,r).bind("click.form-plugin",e,a);var t={s:this.selector,c:this.context};return!M.isReady&&t.s?(O("DOM not ready, queuing ajaxForm"),M(function(){M(t.s,t.c).ajaxForm(e)})):O("terminating; zero elements found by selector"+(M.isReady?"":" (DOM not ready)")),this},M.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},M.fn.formToArray=function(e,t){var r=[];if(0===this.length)return r;var a,n,o,i,s,u,l,c,f,m=this[0],d=e?m.getElementsByTagName("*"):m.elements;if(!d)return r;for(a=0,s=d.length;a<s;a++)if(f=(i=d[a]).name)if(e&&m.clk&&"image"==i.type)i.disabled||m.clk!=i||(r.push({name:f,value:M(i).val(),type:i.type}),r.push({name:f+".x",value:m.clk_x},{name:f+".y",value:m.clk_y}));else if((o=M.fieldValue(i,!0))&&o.constructor==Array)for(t&&t.push(i),n=0,u=o.length;n<u;n++)r.push({name:f,value:o[n]});else if(h.fileapi&&"file"==i.type&&!i.disabled){t&&t.push(i);var p=i.files;if(p.length)for(n=0;n<p.length;n++)r.push({name:f,value:p[n],type:i.type});else r.push({name:f,value:"",type:i.type})}else null!=o&&(t&&t.push(i),r.push({name:f,value:o,type:i.type,required:i.required}));return e||!m.clk||(f=(c=(l=M(m.clk))[0]).name)&&!c.disabled&&"image"==c.type&&(r.push({name:f,value:l.val()}),r.push({name:f+".x",value:m.clk_x},{name:f+".y",value:m.clk_y})),r},M.fn.formSerialize=function(e){return M.param(this.formToArray(e))},M.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=M.fieldValue(this,n);if(t&&t.constructor==Array)for(var r=0,a=t.length;r<a;r++)o.push({name:e,value:t[r]});else null!=t&&o.push({name:this.name,value:t})}}),M.param(o)},M.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],n=M.fieldValue(n,e);null==n||n.constructor==Array&&!n.length||(n.constructor==Array?M.merge(t,n):t.push(n))}return t},M.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if((t=void 0===t?!0:t)&&(!r||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==n&&-1==e.selectedIndex))return null;if("select"!=n)return M(e).val();n=e.selectedIndex;if(n<0)return null;for(var o=[],i=e.options,s="select-one"==a,u=s?n+1:i.length,l=s?n:0;l<u;l++){var c=i[l];if(c.selected){var f=(f=c.value)||(c.attributes&&c.attributes.value&&!c.attributes.value.specified?c.text:c.value);if(s)return f;o.push(f)}}return o},M.fn.clearForm=function(e){return this.each(function(){M("input,select,textarea",this).clearFields(e)})},M.fn.clearFields=M.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&M(this).is(r))&&(this.value="")})},M.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},M.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},M.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=t:"option"==this.tagName.toLowerCase()&&(e=M(this).parent("select"),t&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=t)})},M.fn.ajaxSubmit.debug=!1}(jQuery);