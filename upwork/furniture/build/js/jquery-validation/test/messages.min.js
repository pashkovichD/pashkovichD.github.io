module("messages"),test("predefined message not overwritten by addMethod( a, b, undefined )",function(){var e="my custom message";$.validator.messages.custom=e,$.validator.addMethod("custom",function(){}),deepEqual($.validator.messages.custom,e),delete $.validator.messages.custom,delete $.validator.methods.custom}),test("group error messages",function(){$.validator.addClassRules({requiredDateRange:{required:!0,date:!0,dateRange:!0}}),$.validator.addMethod("dateRange",function(){return new Date($("#fromDate").val())<new Date($("#toDate").val())},"Please specify a correct date range.");var t=$("#dateRangeForm");t.validate({errorElement:"span",groups:{dateRange:"fromDate toDate"},errorPlacement:function(e){t.find(".errorContainer").append(e)}}),ok(!t.valid()),equal(t.find(".errorContainer *").length,1),equal(t.find(".errorContainer .error:not(input)").text(),"Please enter a valid date."),$("#fromDate").val("12/03/2006"),$("#toDate").val("12/01/2006"),ok(!t.valid()),equal(t.find(".errorContainer .error:not(input)").text(),"Please specify a correct date range."),$("#toDate").val("12/04/2006"),ok(t.valid()),ok(t.find(".errorContainer .error:not(input)").is(":hidden"))}),test("read messages from metadata",function(){var e,t=$("#testForm9");t.validate(),(e=$("#testEmail9")).valid(),equal(t.find("#testEmail9").next(".error:not(input)").text(),"required"),e.val("bla").valid(),equal(t.find("#testEmail9").next(".error:not(input)").text(),"email"),(e=$("#testGeneric9")).valid(),equal(t.find("#testGeneric9").next(".error:not(input)").text(),"generic"),e.val("bla").valid(),equal(t.find("#testGeneric9").next(".error:not(input)").text(),"email")}),test("read messages from metadata, with meta option specified, but no metadata in there",function(){var e=$("#testForm1clean");e.validate({meta:"validate",rules:{firstnamec:"required"}}),ok(!e.valid(),"not valid")});