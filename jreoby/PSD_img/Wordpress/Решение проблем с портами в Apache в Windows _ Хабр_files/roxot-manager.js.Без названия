"use strict";!function(){window.rom=window.rom||{cmd:[]};var e=window.rom;e.__loadScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var o=document.getElementsByTagName("head")[0];o.insertBefore(t,o.firstChild)},e.__log=function(e,t){if(localStorage.getItem("rom.debug.consoleDebug")){var o=new Date,n=[o.getHours(),o.getMinutes(),o.getSeconds()].join(":");n+="."+o.getMilliseconds();var r=n+": RoxotManager: "+e;t?console.log(r,t):console.log(r)}},window.rowr=window.rowr||{cmd:[]};var t=window.rowr;e.__loadRoxotWrapperGlobalIfNeed=function(){if(!t.isLoaded&&!t.wrapper){var o=localStorage.getItem("rom.rowr_url")||"https://cdn-plus.roxot-panel.com/roxot-wrapper/js/roxot-wrapper.js";e.__loadScript(o),t.cmd.push(function(){e.cmd.push(function(){t.onAll(function(t){e.dispatch(t)})}),t.wrapper.setConfig(e.config.wrapperConfig)}),t.isLoaded=!0}},e.eventCallbacks=[],e.on=function(t){e.eventCallbacks.push(t)},e.off=function(t){var o=e.eventCallbacks.indexOf(t);o>-1&&e.eventCallbacks.splice(o,1)},e.dispatch=function(t){e.eventCallbacks.slice(0).forEach(function(e){e(t)})},e.display=function(t,o){"iframe"===e.config.adBlockMode?e.__displayTagIframe(t,o):e.__displayTagMain(t,o)},e.__displayTagIframe=function(t,o){var n=localStorage.getItem("rom.ad_tag_url_template")||"https://cdn-plus.roxot-panel.com/wrapper-builder/__TAG_ID__/tag",r=n.replace("__TAG_ID__",o),a=e.__generateId(o+"_iframe_"),i='\n<!DOCTYPE html>\n<html style="display: table;">\n  <head></head>\n  <body style="margin: 0;">\n    <div id="'.concat(o,'"></div>\n    <script async src="').concat(r,"\"><\/script>\n    <script>\n        window.rowr = window.rowr || {cmd: []};\n        let rowr = window.rowr;\n        rowr.iframeId = '").concat(a,"';\n        \n        rowr.cmd.push(function() {\n          rowr.wrapper.setConfig(").concat(JSON.stringify(e.config.wrapperConfig),");\n        });\n    <\/script>\n  </body>\n</html>\n  ");e.__createIframe(t,a,i)},e.__generateId=function(e){return e+Math.floor(1e5*Math.random())},e.__createIframe=function(e,t,o){var n=document.createElement("iframe");n.setAttribute("id",t),n.setAttribute("class","rom-iframe"),n.style.border="0",n.style.margin="0",n.style.padding="0",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.style.display="table";var r=document.getElementById(e);if(!r)return void console.error("Can not found ad block "+e);r.innerText="",r.appendChild(n);var a=n.contentDocument||n.contentWindow.document;a.open(),a.write(o),a.close()},e.__displayTagMain=function(e,o){var n=localStorage.getItem("rom.ad_tag_url_template")||"https://cdn-plus.roxot-panel.com/wrapper-builder/__TAG_ID__/tag-json",r=n.replace("__TAG_ID__",o);t.cmd.push(function(){t.wrapper.loadAdConfig(e,r)})},e.displayPlacement=function(t,o){var n=localStorage.getItem("rom.ad_tag_url_template")||"https://cdn-plus.roxot-panel.com/wrapper-builder/placement/__PLACEMENT_ID__",r=n.replace("__PLACEMENT_ID__",o);e.__jsonAjax(r,function(o){e.displayConfig(t,o)})},e.__jsonAjax=function(t,o){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="json",n.onload=function(){200!==n.status?e.__log("Error Ajax request to "+t+". Status: "+n.status+": "+n.statusText):o(n.response)},n.onerror=function(){e.__log("Error Ajax request to "+t+". Status: "+n.status+": "+n.statusText)},n.send()},e.displayConfig=function(o,n){var r={div:o,config:n},a=document.querySelector("#"+o);if(!a)return console.error('Roxot Manager: Can not found div with id "'+o+'"'),void e.__log('Roxot Manager: Can not found div with id "'+o+'"',r);var i=e.__getSourceWidth(a);e.__log('Source element "'+o+'" has size '+i+".",r);var c=n.cases.filter(function(e){return e.size<=i}).sort(function(e,t){return e.size-t.size});if(!c.length)return void e.__log("Not found support sizeCase for "+i+" size of "+o+" block.",r);var d=c.pop();r.sizeCase=d,e.__log("Use sizeCase with size "+d.size+" for "+o+" block.",r);var s=[];if(d.tags.forEach(function(t){var o=document.createElement("div");o.setAttribute("class","roxotAdContainer"),o.style.textAlign="center",o.style.verticalAlign="top",o.style.width="100%";var n=a.insertAdjacentElement("beforeend",o);for(var r in t.style||{})n.style[r]=t.style[r];for(var i in t.attributes||{})n.setAttribute(i,t.attributes[i]);for(var c in t.data||{})n.dataset[c]=t.data[c];var d=e.__generateId("roxotAd-"),l=t.classes||[];l.push("roxotAd");var p=document.createElement("div");p.setAttribute("class",l.join(" ")),p.setAttribute("id",d),p.style.display="inline-block";n.appendChild(p);s.push({divId:d,adConfig:t.adConfig,wrapperConfig:t.wrapperConfig||{}})}),s.length){if("iframe"===e.config.adBlockMode){var l=localStorage.getItem("rom.rowr_url")||"https://cdn-plus.roxot-panel.com/roxot-wrapper/js/roxot-wrapper.js";s.forEach(function(t){var o=e.__generateId("placement_iframe_"),n='\n<!DOCTYPE html>\n<html style="display: table;">\n  <head></head>\n  <body style="margin: 0;">\n    <div id="'.concat(t.divId,'"></div>\n    <script async src="').concat(l,"\"><\/script>\n    <script>\n        window.rowr = window.rowr || {cmd: []};\n        let rowr = window.rowr;\n        rowr.iframeId = '").concat(o,"';\n        rowr.cmd.push(function() {\n          rowr.wrapper.setAdConfig('").concat(t.divId,"', ").concat(JSON.stringify(t.adConfig),");\n          rowr.wrapper.setConfig(").concat(JSON.stringify(e.config.wrapperConfig),");\n        });\n    <\/script>\n  </body>\n</html>\n  ");e.__createIframe(t.divId,o,n)})}else t.cmd.push(function(){s.forEach(function(e){t.wrapper.setAdConfig(e.divId,e.adConfig)})});r.ads=s,e.__log("Build "+s.length+" tags and run roxot wrapper for "+o+" block.",r)}},e.__getSourceWidth=function(e){var t=!1;e.offsetWidth||(t=e.style.width,e.style.width="100%");var o=e.offsetWidth;return!1!==t&&(e.style.width=t),o},e.__loadDynamic=function(t){var o=window.location.hostname,n=t.replace("__HOST__",o);e.__loadScript(n)},e.init=function(t){e.inited||(e.config={adBlockMode:t.adBlockMode||"iframe",dynamicUrlTemplate:t.dynamicUrlTemplate||null,wrapperConfig:t.wrapperConfig||{}},e.__log("Rom Init",{setConfig:t,resultConfig:e.config}),e.config.dynamicUrlTemplate&&e.__loadDynamic(e.config.dynamicUrlTemplate),"main"===e.config.adBlockMode&&e.__loadRoxotWrapperGlobalIfNeed(),e.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){console.error("Error processing command",e)}else console.error("Commands written into rom.cmd must be wrapped in a function")},e.cmd.forEach(function(t){return e.cmd.push(t)}),e.inited=!0)},e.icmd=e.icmd||[],e.icmd.push=function(t){if(t=t||{},e.inited)return void console.error("Roxot Manager already init.");e.init(t)},e.icmd.forEach(function(t){return e.icmd.push(t)})}();window.rom = window.rom || {icmd: []}; window.rom.icmd.push({"adBlockMode":"iframe","dynamicUrlTemplate":"","wrapperConfig":{"prebid":{"adjustment":{"mytarget":0.1,"rtbhouse":0.85,"otm":0.85,"rubicon":0.8,"getintent":0.8}},"adfox":{"hb":{"biddersMap":{"myTarget":"1168310","betweenDigital":"1167588","criteo":"1171975"},"timeout":700}}}});